;Лаба 2 вариант 5
;(действие 1) эта программа переставляет местами символы C5 и C7
;(действие 2) на место симола C2 записывает С4+(С9-С8)

org 100h

;Вывод текста в консоль
 mov ah, 9h
 mov dx, greetings_str
 int 21h
;Ввод строки
 mov ah, 0ah
 mov dx, input_str
 int 21h
;перевод на новую строку
 mov ah, 9h
 mov dx, new_line
 int 21h

;действие 1
 mov bp, input_str+2 ;5's element address
 mov bl, [bp-1] ;lenght of input_str
 mov di, bx     ;содержимое регистра bx в di
 mov cl, [bp+4] ;5 элемент строки
 mov ch, [bp+6] ;7 элемент строки
 xchg ch, cl    ;замена элементов местами
 mov [bp+6], ch ;запись в память изменённого значения
 mov [bp+4], cl

 ;действие 2
 mov ch, [bp+8] ;элемент 9
 mov cl, [bp+7] ;элемент 8
 sub ch, cl     ;C9-C8
 mov cl, [bp+3] ;элемент 4
 add cl, ch     ;С4+(С9-С8)
 mov [bp+1], cl ;замена С2 на результат вычислений

;вывод преобразованной строки в консоль
 mov ah,9h
 mov dx, bp
 int 21h
;задержка
 mov ah,8h
 int 21h

ret

 greetings_str db "Input string (max. 10 elements)",$0d,$0a,"$"
 input_str db 11,0,11 dup('$')
 new_line db $0d,$0a,"$"